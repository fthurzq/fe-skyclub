<!DOCTYPE html>
<html class=" bg-gray-100">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    @vite(['resources/css/app.css', 'resources/js/app.js'])
    <script src="//unpkg.com/alpinejs" defer></script>
</head>

<body class="h-full">
    <x-navbar></x-navbar>

    <div class="rounded-xl shadow-lg p-5 justify-self-center my-10">
        <h1 class="font-semibold text-4xl mb-7">My Wallet</h1>
        <div class="flex space-x-20">
            <div>
                <div class="flex flex-col p-5 bg-cover bg-no-repeat bg-center h-[321px] w-[616px] rounded-2xl mb-7 bg-black"
                     style="background-image: url('{{ asset('assets/images/wallet.svg') }}');">
                     <div class="flex justify-between">
                        @php
                            $user = auth()->user();
                        @endphp

                         <p class="font-bold text-xl text-white">{{ $user->name }}</p>
                         <p class="font-bold text-xl text-white">{{ substr($user->no_telp, 0, -4) . '****' }}</p>
                        </div>
                        <div class="flex justify-between mt-auto">
                            <div class="space-y-2">
                                <p class="text-xl font-semibold text-white">Balance</p>
                                <p class="text-4xl font-bold text-white">Rp {{ number_format($wallets['balance'], 0, ',', '.') }}</p>
                            </div>
                            <svg class="place-self-end" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0 14C1.06087 14 2.07828 14.4214 2.82843 15.1716C3.57857 15.9217 4 16.9391 4 18H0V14ZM0 7C6.075 7 11 11.925 11 18H9C9 15.6131 8.05179 13.3239 6.36396 11.636C4.67613 9.94821 2.38695 9 0 9V7ZM0 0C9.941 0 18 8.059 18 18H16C16 9.163 8.837 2 0 2V0Z" fill="white"/>
                            </svg>
                        </div>
                </div>
                <div class="flex justify-between pb-5">
                    <a href="{{ route('wallet.topup') }}" class="shadow-lg flex flex-col items-center justify-center drop-shadow rounded-xl w-[120px] h-[120px]">
                        <svg width="40" height="38" viewBox="0 0 40 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M5.50033 37.833C4.17116 37.833 3.03371 37.3601 2.08799 36.4144C1.14227 35.4687 0.668603 34.3304 0.666992 32.9996V28.1663C0.666992 27.4816 0.898992 26.908 1.36299 26.4456C1.82699 25.9833 2.40055 25.7513 3.08366 25.7496C3.76677 25.748 4.34113 25.98 4.80674 26.4456C5.27235 26.9113 5.50355 27.4848 5.50033 28.1663V32.9996H34.5003V28.1663C34.5003 27.4816 34.7323 26.908 35.1963 26.4456C35.6603 25.9833 36.2339 25.7513 36.917 25.7496C37.6001 25.748 38.1745 25.98 38.6401 26.4456C39.1057 26.9113 39.3369 27.4848 39.3337 28.1663V32.9996C39.3337 34.3288 38.8608 35.4671 37.9151 36.4144C36.9694 37.3617 35.8311 37.8346 34.5003 37.833H5.50033ZM17.5837 8.47048L13.0524 13.0017C12.5691 13.4851 11.9955 13.7171 11.3317 13.6977C10.668 13.6784 10.0936 13.4263 9.60866 12.9413C9.1656 12.458 8.93361 11.8941 8.91266 11.2496C8.89172 10.6052 9.12372 10.0413 9.60866 9.55798L18.3087 0.857979C18.5503 0.616312 18.8121 0.445535 19.0941 0.345646C19.376 0.245757 19.6781 0.195008 20.0003 0.193397C20.3225 0.191785 20.6246 0.242535 20.9066 0.345646C21.1885 0.448757 21.4503 0.619535 21.692 0.857979L30.392 9.55798C30.8753 10.0413 31.1073 10.6052 31.088 11.2496C31.0687 11.8941 30.8367 12.458 30.392 12.9413C29.9087 13.4246 29.3351 13.6768 28.6713 13.6977C28.0076 13.7187 27.4332 13.4867 26.9482 13.0017L22.417 8.47048V25.7496C22.417 26.4344 22.185 27.0087 21.721 27.4727C21.257 27.9367 20.6834 28.1679 20.0003 28.1663C19.3172 28.1647 18.7437 27.9327 18.2797 27.4703C17.8157 27.0079 17.5837 26.4344 17.5837 25.7496V8.47048Z" fill="black"/>
                        </svg>
                        <p class="font-semibold text-lg mt-2">Top Up</p>
                    </a>
                    <a href="{{ route('wallet.transfer') }}" class="shadow-lg flex flex-col items-center justify-center drop-shadow rounded-xl w-[120px] h-[120px]">
                        <svg width="40" height="39" viewBox="0 0 40 39" fill="none" xmlns="http://www.w3.org/2000/svg">
                           <path d="M20.0003 28.1399C19.6781 28.1399 19.376 28.09 19.0941 27.9901C18.8121 27.8902 18.5503 27.7186 18.3087 27.4753L9.60866 18.7753C9.12533 18.292 8.89333 17.7281 8.91266 17.0837C8.93199 16.4392 9.16399 15.8753 9.60866 15.392C10.092 14.9087 10.6664 14.6573 11.3317 14.638C11.9971 14.6187 12.5707 14.8499 13.0524 15.3316L17.5837 19.8628V2.58367C17.5837 1.89895 17.8157 1.32539 18.2797 0.863001C18.7437 0.400612 19.3172 0.168612 20.0003 0.167001C20.6834 0.165389 21.2578 0.39739 21.7234 0.863001C22.189 1.32861 22.4202 1.90217 22.417 2.58367V19.8628L26.9482 15.3316C27.4316 14.8483 28.0059 14.6163 28.6713 14.6356C29.3367 14.6549 29.9103 14.9071 30.392 15.392C30.835 15.8753 31.067 16.4392 31.088 17.0837C31.1089 17.7281 30.8769 18.292 30.392 18.7753L21.692 27.4753C21.4503 27.717 21.1885 27.8886 20.9066 27.9901C20.6246 28.0916 20.3225 28.1415 20.0003 28.1399ZM5.50033 38.8337C4.17116 38.8337 3.03371 38.3608 2.08799 37.4151C1.14227 36.4694 0.668603 35.3311 0.666992 34.0003V29.167C0.666992 28.4823 0.898992 27.9087 1.36299 27.4463C1.82699 26.9839 2.40055 26.7519 3.08366 26.7503C3.76677 26.7487 4.34113 26.9807 4.80674 27.4463C5.27235 27.9119 5.50355 28.4855 5.50033 29.167V34.0003H34.5003V29.167C34.5003 28.4823 34.7323 27.9087 35.1963 27.4463C35.6603 26.9839 36.2339 26.7519 36.917 26.7503C37.6001 26.7487 38.1745 26.9807 38.6401 27.4463C39.1057 27.9119 39.3369 28.4855 39.3337 29.167V34.0003C39.3337 35.3295 38.8608 36.4678 37.9151 37.4151C36.9694 38.3624 35.8311 38.8353 34.5003 38.8337H5.50033Z" fill="black"/>
                        </svg>
                        <p class="font-semibold text-lg mt-2">Withdraw</p>
                    </a>
                    <a href="{{ route('wallet.transfer') }}" class="shadow-lg flex flex-col items-center justify-center drop-shadow rounded-xl w-[120px] h-[120px]">
                        <svg width="40" height="39" viewBox="0 0 40 39" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M39.1493 15.5925C39.3322 15.1508 39.3801 14.6647 39.2867 14.1959C39.1934 13.727 38.9631 13.2963 38.6249 12.9583L26.5415 0.875L23.1244 4.29217L31.0825 12.2502H0.666296V17.0836H36.9163C37.3942 17.0837 37.8615 16.9421 38.2589 16.6767C38.6564 16.4113 38.9662 16.034 39.1493 15.5925ZM0.849963 23.408C0.66701 23.8497 0.619181 24.3358 0.712529 24.8046C0.805878 25.2735 1.03621 25.7042 1.37438 26.0422L13.4577 38.1255L16.8749 34.7083L8.9168 26.7502H39.333V21.9169H3.08296C2.60503 21.9168 2.13779 22.0584 1.74032 22.3238C1.34286 22.5892 1.03301 22.9665 0.849963 23.408Z" fill="black"/>
                        </svg>
                        <p class="font-semibold text-lg mt-2">Transfer</p>
                    </a>
                </div>
            </div>
            <div class=" w-96">
                <div class="flex justify-between font-semibold text-lg items-center mb-4">
                    Recent Transaction
                    <a href="#" class="text-xs text-gray-700">Lihat semua</a>
                </div>
                <div class="flex flex-col space-y-3">
                    @forelse ($wallets['transactions'] as $transaction)
                        @switch($transaction['type'])
                            @case('top-up')
                            <div class="rounded-lg flex flex-row border-s-8 border-red-600 items-center shadow-md px-3 py-2">
                                <svg width="30" height="29" viewBox="0 0 30 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M3.75 29C2.71875 29 1.83625 28.6357 1.1025 27.907C0.368749 27.1784 0.00125 26.3014 0 25.2761V21.5522C0 21.0246 0.18 20.5827 0.54 20.2265C0.899999 19.8702 1.345 19.6915 1.875 19.6902C2.405 19.689 2.85062 19.8677 3.21187 20.2265C3.57312 20.5852 3.7525 21.0271 3.75 21.5522V25.2761H26.25V21.5522C26.25 21.0246 26.43 20.5827 26.79 20.2265C27.15 19.8702 27.595 19.6915 28.125 19.6902C28.655 19.689 29.1006 19.8677 29.4618 20.2265C29.8231 20.5852 30.0025 21.0271 30 21.5522V25.2761C30 26.3002 29.6331 27.1771 28.8993 27.907C28.1656 28.6369 27.2825 29.0012 26.25 29H3.75ZM13.125 6.37723L9.60937 9.8684C9.23437 10.2408 8.78937 10.4195 8.27437 10.4046C7.75937 10.3897 7.31374 10.1955 6.93749 9.82185C6.59374 9.44946 6.41374 9.015 6.39749 8.51848C6.38124 8.02196 6.56124 7.5875 6.93749 7.21511L13.6875 0.512066C13.875 0.32587 14.0781 0.194292 14.2969 0.117331C14.5156 0.0403705 14.75 0.00126995 15 2.86458e-05C15.25 -0.00121266 15.4844 0.0378879 15.7031 0.117331C15.9219 0.196775 16.125 0.328353 16.3125 0.512066L23.0625 7.21511C23.4375 7.5875 23.6175 8.02196 23.6025 8.51848C23.5875 9.015 23.4075 9.44946 23.0625 9.82185C22.6875 10.1942 22.2425 10.3885 21.7275 10.4046C21.2125 10.4208 20.7669 10.242 20.3906 9.8684L16.875 6.37723V19.6902C16.875 20.2178 16.695 20.6603 16.335 21.0178C15.975 21.3753 15.53 21.5534 15 21.5522C14.47 21.5509 14.025 21.3722 13.665 21.0159C13.305 20.6597 13.125 20.2178 13.125 19.6902V6.37723Z" fill="black"/>
                                </svg>
                                <div class="flex flex-col items-center ml-3">
                                    <div class="font-bold text-base">Top Up</div>
                                    <div class="text-[8px] font-semibold text-gray-500">{{ $transaction['date'] }}</div>
                                </div>
                                <div class="font-semibold text-lg ml-auto">Rp {{ number_format($transaction['amount'], 0, ',', '.') }}</div>
                            </div>
                                @break
                            @case('withdraw')
                            <div class="rounded-lg flex flex-row border-s-8 border-green-400 items-center shadow-md px-3 py-2">
                                <svg width="34" height="27" viewBox="0 0 34 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M1 1.5H11.8117C12.4423 1.49992 13.0667 1.62409 13.6493 1.86539C14.2319 2.1067 14.7612 2.46042 15.207 2.90635L20.2009 7.89977M5.80022 15.8995H1M11.4005 6.29983L14.6006 9.49972C14.8107 9.70982 14.9774 9.95926 15.0911 10.2338C15.2049 10.5083 15.2634 10.8025 15.2634 11.0997C15.2634 11.3968 15.2049 11.691 15.0911 11.9655C14.9774 12.2401 14.8107 12.4895 14.6006 12.6996C14.3905 12.9097 14.141 13.0764 13.8665 13.1901C13.592 13.3038 13.2977 13.3623 13.0005 13.3623C12.7034 13.3623 12.4091 13.3038 12.1346 13.1901C11.8601 13.0764 11.6106 12.9097 11.4005 12.6996L9.00036 10.2997C7.6243 11.6756 5.4434 11.8308 3.88493 10.6629L3.40011 10.2997" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M5.79883 11.9002V19.1C5.79883 22.1175 5.79883 23.6246 6.73647 24.5622C7.67411 25.4998 9.18138 25.4998 12.1991 25.4998H26.5998C29.6175 25.4998 31.1248 25.4998 32.0624 24.5622C33.0001 23.6246 33.0001 22.1175 33.0001 19.1V14.3002C33.0001 11.2827 33.0001 9.77552 32.0624 8.83796C31.1248 7.90039 29.6175 7.90039 26.5998 7.90039H12.9992" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M22.2018 16.7003C22.2018 17.4429 21.9068 18.155 21.3817 18.6801C20.8566 19.2052 20.1443 19.5002 19.4017 19.5002C18.659 19.5002 17.9468 19.2052 17.4217 18.6801C16.8966 18.155 16.6016 17.4429 16.6016 16.7003C16.6016 15.9577 16.8966 15.2455 17.4217 14.7205C17.9468 14.1954 18.659 13.9004 19.4017 13.9004C20.1443 13.9004 20.8566 14.1954 21.3817 14.7205C21.9068 15.2455 22.2018 15.9577 22.2018 16.7003Z" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <div class="flex flex-col items-center ml-3">
                                    <div class="font-bold text-base">Payment</div>
                                    <div class="text-[8px] font-semibold text-gray-500">{{ $transaction['date'] }}</div>
                                </div>
                                <div class="font-semibold text-lg ml-auto">Rp {{ number_format($transaction['amount'], 0, ',', '.') }}</div>
                            </div>
                                @break
                            @case('transfer')
                            <div class="rounded-lg flex flex-row border-s-8 border-blue-500 items-center shadow-md px-3 py-2">
                                <svg width="24" height="23" viewBox="0 0 24 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M23.8858 9.08719C23.9994 8.81447 24.0291 8.51436 23.9711 8.22485C23.9132 7.93533 23.7702 7.66942 23.5603 7.46075L16.0604 0L13.9395 2.1099L18.8789 7.02355H0.000173777V10.0078H22.4998C22.7965 10.0079 23.0865 9.9205 23.3332 9.75662C23.5799 9.59275 23.7722 9.35979 23.8858 9.08719ZM0.114172 13.9128C0.000616886 14.1855 -0.0290695 14.4856 0.0288701 14.7752C0.0868098 15.0647 0.229772 15.3306 0.439668 15.5392L7.93956 23L10.0605 20.8901L5.1211 15.9764H23.9998V12.9921H1.50015C1.20351 12.9921 0.913502 13.0795 0.666802 13.2434C0.420102 13.4072 0.227787 13.6402 0.114172 13.9128Z" fill="black"/>
                                </svg>
                                <div class="flex flex-col items-center ml-3">
                                    <div class="font-bold text-base">Transfer</div>
                                    <div class="text-[8px] font-semibold text-gray-500">{{ $transaction['date'] }}</div>
                                </div>
                                <div class="font-semibold text-lg ml-auto">Rp {{ number_format($transaction['amount'], 0, ',', '.') }}</div>
                            </div>
                                @break
                        
                            @default
                                
                        @endswitch
                    @empty
                        <p>Tidak ada transaksi</p>
                    @endforelse
                </div>
            </div>
        </div>
    </div>
    
    <script src="../path/to/flowbite/dist/flowbite.min.js"></script>
</body>

</html>
